<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv="Access-Control-Allow-Origin" content="*"> -->
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="../../HTML/BootStrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../HTML/BootStrap/css/bootstrap-theme.min.css">
    <script src="../CommonJs.js"></script>
    <title>深入理解javascript原型和闭包</title>
    <style>
        #main {
            font-family: '微软雅黑';
            margin: 0 auto;
            width: 1200px;
            height: 100%;
            --webkit-box-sizing: border-box;
            text-indent: -9999px;
            moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        #left {
            width: 500px;
            background-color: #ccc;
            border-radius: 3px;
            border: 1px solid #ccc;
            float: left;
        }

        #right {
            width: 300px;
            background-color: #fff;
            border-radius: 3px;
            border: 1px solid #ccc;
            float: left;
        }

        #div1{
            position: relative;
            top: 50%;
            left: 50%;
            background-color: #000;
            width:50%;
            height: 50%;
            -webkit-transform: translateX(-50%) translateY(-50%);
        }
    </style>
</head>

<body>
    <form class="" action="index.html" id="form1" method="post">
        <input type="text" name="username" size="10" pattern="\d+" maxLength="10" id="text-box1" placeHolder="text-indent" value="" required>
        <input type="text" name="userpassword" size="5" maxLength="10" id="text-box2" placeHolder="text-indent" value="">
        <textarea name="textarea-box" rows="8" id="text-box" cols="40">initial value</textarea>
        <ul id="myUl">
            <li>
                <input type="radio" name="color" value="red">Red</li>
            <li>
                <input type="radio" name="color" value="green">Green</li>
            <li>
                <input type="radio" name="color" value="blue">Blue</li>
            <li>
                <input type="radio" name="color" value="blue">Blue</li>
            <li>
                <input type="radio" name="color" value="blue">Blue</li>
             <li >
                <input type="radio" name="color" value="blue">
                Blue

                </li>
        </ul>
        <a href="###" id="aclick" index="0">email me</a>
        <!-- <input type="submit" id="submit-btn" name="submit-btn" value="提交"> -->
        <input type="button" id="btn-submit" name="name" value="按钮">
        <div style="margin:10px auto;">
            <select name="location" id="selLocation">
                <option value="Sunnyvale, CA">Sunnyvale</option>
                <option value="Los Angeles, CA">Los Angeles</option>
                <option value="Mountain View, CA">Mountain View</option>
                <option value="">China</option>
                <option>Australia</option>
            </select>
        </div>
    </form>
    <input type="text" id="focus" value="13123213" />
 
 <!--    <div class="mediaplayer">
	    <div class="video">
		    <video id="player" src="http://centavedio.file.alimmdn.com/video/estatevideo/E7786882-D9F9-4B22-A9EB-1018A1EAAC86.mp4?t=1461223582861"
		    width="300" height="200">
		    Video player not available.
		    </video>
	    </div>
	    <div class="controls">
		    <input type="button" value="Play" id="video-btn">
		    <span id="curtime">0</span>/<span id="duration">0</span>
	    </div>
    </div>
    <div style="margin:20px auto; width:500px;" >
    	  <canvas id="drawing" width="200" height="200">A drawing of something.....</canvas>
    </div> -->
    
        <div id="status"  style="width:300px;height:300px;background-color:grey;">
                 
                <div id="div1" style="width:80px;height:80px;background-color:#D0CEEE;">
                   <p style="margin-left:30px;padding-top:30px;font-size:16px"><b>我</b></p>
                </div>
        <div>

    <script src="../../HTML/BootStrap/js/jquery-2.1.4.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="../../HTML/BootStrap/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        // function updateProgress(){
        //     var div = document.getElementById("status");
        //         div.style.width = (parseInt(div.style.width, 10) + 5) + "%";
        //         if (div.style.left != "100%"){
        //         mozRequestAnimationFrame(updateProgress);
        //     }
        // }

        // mozRequestAnimationFrame(updateProgress);
        $(function(){
           $("#focus").onfocus();     
        });
        var CookieUtil = {
            get: function(name) {
                var cookieName = encodeURIComponent(name) + "=",
                    cookieStart = document.cookie.indexOf(cookieName),
                    cookieValue = null;
                if (cookieStart > -1) {
                    var cookieEnd = document.cookie.indexOf(";", cookieStart);
                    if (cookieEnd == -1) {
                        cookieEnd = document.cookie.length; 
                    }
                    cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + 
                        cookieName.length, cookieEnd));
                }

                return cookieValue;
            },
            set: function(name, value, expirses, path, domain, secure) {
                var cookieText = encodeURIComponent(name) + "=" + encodeURIComponent(value);

                if (expirses instanceof Date) {
                    cookieText += "; expirses=" + expirses.toGMTString();
                }

                if (path) {
                    cookieText += ";path=" + path;
                }

                if (domain) {
                    cookieText += ";domain=" + domain;
                }

                if (secure) {
                    cookieText += ";secure";
                }
                document.cookie = cookieText;
            },
            unset: function(name, path, domain, secure) {
                this.set(name, "", new Date(0), path, domain, secure);
            }
        };

        var SubCookieUtil = {
            get: function(name, subName) {
                var subCookies = this.getAll(name);
                if (subCookies) {
                    return subCookies[subName];
                } else {
                    return null;
                }
            },
            getAll: function(name) {
                var cookieName = encodeURIComponent(name) + "=",
                    cookieStart = document.cookie.indexOf(cookieName),
                    cookieValue = null,
                    cookieEnd,
                    subCookies,
                    i,
                    len,
                    parts,
                    result = {};
                if (cookieStart > -1) {
                    cookieEnd = document.cookie.indexOf(";", cookStart);
                    if (cookieEnd == -1) {
                        cookieEnd = document.cookie.length;
                    }
                    cookieValue = document.cookie.substring(cookStart + cookieName.length, cookieEnd);
                }

                if (cookieValue.length > 0) {
                    subCookies = cookieValue.split("&");
                    for (i = 0, len = subCookies.length; i < len; i++) {
                        parts = subCookies[i].split("&");
                        result[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);
                    }
                    return result;
                }
                return null;
            },
            set: function(name, subName, value, expirses, path, domain, secure) {
                var subCookies = this.getAll(name) || {};
                subCookies[subName] = value;
                this.setAll(name,subcookies,expires,path,domain,secure);
            },
            setAll: function(name, subcookies, expirses, path, domain, secure) {
                var cookieText = encodeURIComponent(name) + "=",
                    subCookiesParts = new Array(),
                    subName;

                for (subName in subCookies) {
                    if (subName.length > 0 && subCookies.hasOwnProperty(subName)) {
                        subCookiesParts.push(encodeURIComponent(name) + "=" + encodeURIComponent(subCookies[subName]));
                    }
                }

                if (subCookiesParts.length > 0) {
                    cookieText += subcookieParts.join("&");
                    if (expires instanceof Date) {
                        cookieText += "; expires=" + expires.toGMTString();
                    }
                    if (path) {
                        cookieText += "; path=" + path;
                    }
                    if (domain) {
                        cookieText += "; domain=" + domain;
                    }
                    if (secure) {
                        cookieText += "; secure";
                    }
                } else {
                    cookieText += "; expires=" + (new Date(0)).toGMTString();
                }
            },
            unset:function(name,subName,path,domain,secure){
                var subcookies = this.getAll(name);
                if(subcookies){
                    delete subcookies[subName];
                    this.setAll(name,subcookies,null,path,domain,secure);
                }
            },
            unsetAll:function(name,path,domain,secure){
                this.setAll(name,null,new Date(0),path,secure);
            }
        };

        //设置Cookie
        CookieUtil.set("name","Nicholas");

        var indexedDB = window.indexedDB || window.msIndexedDB || window.mozIndexedDB || window.webkitIndexedDB;
        // alert(indexedDB);
        var request;
        var database;
        request = indexedDB.open("admin");
        // alert(request);
        request.onerror = function(event) {
            alert("something bad happend while trying to open" + event.target.errorCode);
        };
        request.onsuccess = function(event) {
            database = event.target.result;
            console.log(database);
            console.log(database.version);
            if (database.version != "1.0") {
                request = database.setVersion("1.0");
                request.onerror = function(event) {
                    alert("something bad happend while trying to set version" + event.target.errorCode);
                };

                request.onsuccess = function(event) {
                    alert("Database initialization complete. Database name: " + database.name + ", Version: " + database.version);
                };
            } else {
                alert("Database already initialized. Database name: " + database.name + ", Version: " + database.version);
            };
        };  

        var user = {
            username: "007",
            firstName: "James",
            lastName: "Bond",
            password: "foo"
        };


      

        function b(){
        	console.log("Test2");
        }

        var processor = {
	        	timeoutId: null,
	        	//实际进行处理的方法
		        performProcessing: function(){
		        //实际执行的代码
		        },
	        	//初始处理调用的方法
		        process: function(){
		        	clearTimeout(this.timeoutId);
			        var that = this;
			        this.timeoutId = setTimeout(function(){
			        	that.performProcessing();
		        }, 100);
	        }
        };

        function a(){
        	console.log("Success");
        }

        function throttle(method, context) {
			clearInterval(method.tId);
			method.tId= setInterval(function(){
				method.call(context);
			}, 1000);
		}



		throttle(a,this);
        
        
        // document.cookie = "name=chenshi2";
        // alert(navigator.onLine);
        /*
         * @array:要处理的项目的数组
         * @process : 用于处理项目的函数
         * @context : 运行该函数的作用域
         */
        // function chunk(array, process, context) {
        //     setTimeout(function() {
        //         var item = array.shift();
        //         process.call(context, item);

        //         if (array.length > 0) {
        //             setTimeout(arguments.callee, 100);
        //         }
        //     }, 100);
        // }

        // var data = [13,123,1234,12345,12334,555,666,5555555,77,777,888,888,9999,123123,123123123,123131,23231,123123123,1231232];
        // function printValue(item){
        //     var div = document.getElementById("status")
        //     div.innerHTML += item +　"<br />";
        // }

        // chunk(data.concat(),printValue);
        // function isArray(value){
        //     return Object.prototype.toString.call(value) == "[object Array]";  
        // }

       //  var array = new Array();
       // alert(Object.prototype.toString.call(array));  

        // var socket = new WebSocket("ws://www.example.com/server.php");
        // socket.onerror = function(){
        //     alert("Connection Error");
        // }
        // socket.onmessage = function(event){
        //     var data = event.code;
        //     alert(data);
        // }
        // socket.send("hello world");

       

        // socket.onerror = function(){
        //     alert("Connection Error");
        // }
        // function createXHR() {
        //     if (typeof XMLHttpRequest != "undefined") {
        //         return new XMLHttpRequest();
        //     }
        // }
        // var xhr = createXHR();
        // Still in CONNECTING state.
        // function addURLParam(url, name, value) {
        //     url += (url.indexOf("?") == -1 ? "?" : "&");
        //     url += encodeURIComponent(name) + "=" + encodeURIComponent(value);
        //     return url;
        // }

        // var url = "http://apiv3refactor.centanet.com/json/reply/GetEstateRequest";
        // url = addURLParam(url, "EstateCode", "peppwewxae");
        // if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
        //     alert(xhr.responseText);
        // } else {
        //     alert("Request was unsuccessful:" + xhr.status);
        // }
        // xhr.open("get", url, false);
        // xhr.send(null);
        // function handleResponse(response){
        //     alert("You're at ip address " + response.ip + ", which is in " + response.city + ", " + response.region_name);
        // }
        // var script = document.createElement("script");
        // script.src = "http://freegeoip.net/json/?callback=handleResponse";
        // document.body.insertBefore(script, document.body.firstChild);
        // var img = new Image();
        // img.onload = img.onerror = function(){
        //     alert("Done.");
        // }
        // img.src = "http://baidu.com";
       

        // function createCORSRequest(method, url) {
        //     var xhr = new XMLHttpRequest();
        //     if ("withCredentials" in xhr) {
        //         xhr.open(method, url, true);
        //     } else if (typeof XDomainRequest != "undefined") {
        //         vxhr = new XDomainRequest();
        //         vxhr.open(method, url);
        //     } else {
        //         xhr = null;
        //     }
        //     return xhr;
        // }

        // var request = createCORSRequest("get", "http://www.baidu.com");
        // alert(request);
        // if (request) {
        //     request.onload = function() {
        //         alert(request.responseText);
        //     }
        //     request.send();
        // }
        // var xhr = createXHR();
        // xhr.open("get", "jsonData.json", false);
        // xhr.setRequestHeader("MyHeader", "MyValue");
        // xhr.send(null);
        // if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
        //     alert(xhr.responseText);
        // } else {
        //     alert("Request was unsuccessful:" + xhr.status);
        // }
       
        // var myHeader =  xhr.getResponseHeader("MyHeader");
        // var allHeaders = xhr.getAllResponseHeaders();
        // console.log(allHeaders);


        // var xhr = createXHR();
        // xhr.onload = function(event) {
        //     if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
        //         alert(xhr.responseText);
        //     } else {
        //         alert("Request was unsuccessful:" + xhr.status);
        //     }
        // }
        // xhr.onprogress = function(event){
        //     var divStatus = document.getElementById("status");
        //     if(event.lengthComputable){
        //         divStatus.innerHTML = "Received " +　event.position +　" of " + event.totalSize + " bytes ";
        //     }
        // }
        // xhr.open("get", "http://apiv3refactor.centanet.com/json/reply/GetEstateRequest?EstateCode=peppwewxae", true);
        // xhr.send(null);

        // var xdr = new XDomainRequest();
        // xdr.onload = function(){
        //     alert(xdr.responseText);
        // }

        // xdr.open("get","http://10.4.18.82/core/022/json/reply/GetGScopeStatisticsRequest?GscopeLevel=2&ParentId=2278");
        // xdr.send(null);

        //   	var book =	{
		// 				"title": "Professional JavaScript",
		// 				"authors": [
		// 				"Nicholas C. Zakas"
		// 				],
		// 				edition: 3,
		// 				year: 2011,
		// 				toJSON: function(){
		// 					return this.title;
		// 				}
		// 			};

		// var jsonText = JSON.stringify(book);
		// console.log(jsonText);  
		// {
		//     "title": "Professional JavaScript",
		//     "authors": [
		//         "Nicholas C. Zakas"
		//     ],
		//     "edition": 3,
		//     "year": 2011
		// }

		// var josnText = JSON.stringify(book,["title","edition"]); //{"title":"Professional JavaScript","edition":3} 
		// var jsonText = JSON.stringify(book,function(key,value){
		// 	switch(key){
		// 		case "authors":
		// 			return value.join(",");
		// 		case "year":
		// 			return 5000;
		// 		case "edition":
		// 			return undefined;
		// 		default:
		// 			return value; 
		// 	}
		// });



		// {"title":"Professional JavaScript","authors":"Nicholas C. Zakas","year":5000}
    	// function process(values){
    	// 	if(!(values instanceof Array)){
    	// 		throw new Error("process() : Argument must be Array");
    	// 	}
    	// 	values.sort();
    	// 	for (var i = 0 , len = values.length; i < len; i++) {
    	// 		if(values[i] > 100){
    	// 			return values[i];
    	// 		}
    	// 	}
    	// 	return -1;
    	// }
    	
    	// process(1);

    	// window.onerror = function(message,url,line){
    	// 	alert(message);
    	// }
    	// try {
    	// 	window.someNonexistentFunction();
    	// } catch (error){
    	// 	alert(error.message);
    	// }
    	// var palyer = document.getElementById("player"),
    	// 	btn = document.getElementById("video-btn"),
    	// 	curtime = document.getElementById("curtime"),
    	// 	duration = document.getElementById("duration");

    	// duration.innerHTML = player.duration;

    	// EventUtil.addHandler(btn,"click",function(event){
    	// 	if(player.paused){
    	// 		palyer.play();
    	// 		btn.value = "Pause";
    	// 	}else{
    	// 		palyer.pause();
    	// 		btn.value = "Play";
    	// 	}
    	// });

    	// setInterval(function(){
    	// 	curtime.innerHTML = player.currentTime;
    	// },1000);

    	// var drawing = document.getElementById("drawing");
    	// //判断是否存在 getContext属性
    	// if(drawing.getContext){
    		// var context = drawing.getContext("2d");
    		// // context.beginPath();
    		// context.drawImage(image, 0, 10, 50, 50, 0, 100, 40, 60);
    		// context.arc(100,100,99,99,0,2 * Math.PI , false);

    		// context.moveTo(194,100);
    		// context.arc(100,100,94,94,0,2 * Math.PI , false);

    		//变换原点
    		// context.translate(100,100);
    		//旋转表针
    		// context.rotate(1);

    		// context.moveTo(0,0);
    		// context.lineTo(0,-85);

    		//绘制时针
    		// context.moveTo(0, 0);
    		// context.lineTo(-65, 0);

    		// context.moveTo(100,100);
    		// context.lineTo(100,15);

    		// context.moveTo(100,100);
    		// context.lineTo(35,100);
    		//描边路径
    		 // context.stroke();

    		// context.font = "bold 14px Arial";
    		// context.textAlign = "center";
    		// context.textBaseline = "center";
    		// context.fillText("12",100,20);

    		// context.fillStyle = "#ff0000";
    		// context.fillRect(10,10,50,50);
    		// context.fillStyle = "rgba(0,0,255,0.5)";
    		// context.fillRect(30,30,50,50);

    		// context.clearRect(40,40,10,10);
    	// }
        // var $form = document.forms[0];
        // // console.log(serialize($form));
        // var $btnsubmit = $form.elements["btn-submit"];
        // EventUtil.addHandler($btnsubmit,"click",function(){
        //     console.log(serialize($form));
        // })
        // var selectindex = $selectbox.selectedIndex;
        // var $selectOption = $selectbox.options[selectindex];
        // var $text = $selectOption.text;
        // var $value = $selectOption.value;
        // alert($text);

        // function serialize(form) {
        //     var parts = [],
        //         field = null,
        //         i,
        //         len,
        //         j,
        //         optLen,
        //         option,
        //         optValue;
        //     for (i = 0, len = form.elements.length; i < len; i++) {
        //         field = form.elements[i];
        //         switch (field.type) {
        //             case "select-one":
        //             case "select-multiple":
        //                 if (field.name.length) {
        //                     for (j = 0, optLen = field.options.length; j < optLen; j++) {
        //                         option = field.options[j];
        //                         if (option.selected) {
        //                             optValue = "";
        //                             if (option.hasAttribute) {
        //                                 optValue = (option.hasAttribute("value") ? option.value : option.text);
        //                             } else {
        //                                 optValue = (option.attributes["value"].specified ? option.value : option.text);
        //                             }
        //                             parts.push(encodeURIComponent(field.name) + "=" + encodeURIComponent(optValue));
        //                         }
        //                     }
        //                 }
        //                 break;
        //             case undefined: //自段集
        //             case "file": //文件输入
        //             case "submit": //提交按钮
        //             case "reset": //重置按钮
        //             case "button": //自定义按钮
        //                 break;
        //             case "radio":
        //             case "checkbox":
        //                 if (!field.checked) {
        //                     break;
        //                 }
        //                 /* 执行默认操作 */
        //             default:
        //                 //不包含没有名字的表单字段
        //                 if (field.name.length) {
        //                     parts.push(encodeURIComponent(field.name) + "=" + encodeURIComponent(field.value));
        //                 }
        //         }
        //     }
        //     return parts.join("&");
        // }

        // alert($text);
        // var isPatternSupported = "pattern" in document.createElement("input");
        // alert(isPatternSupported);
        // var $form = document.getElementById("form1");
        // var $field = $form.elements[0];

        // var $textbox = $form.elements["text-box"];
        // EventUtil.addHandler($textbox, "focus", function(event) {
        // 	event = EventUtil.getEvent(event);
        // 	var target = EventUtil.getTarget(event);
        // 	if (target.style.backgroundColor != "red") {
        // 		target.style.backgroundColor = "yellow";
        // 	}
        // });
        // EventUtil.addHandler($textbox, "blur", function(event) {
        // 	event = EventUtil.getEvent(event);
        // 	var target = EventUtil.getTarget(event);
        // 	if (/[^\d]/.test(target.value)) {
        // 		target.style.backgroundColor = "red";
        // 	} else {
        // 		target.style.backgroundColor = "";
        // 	}
        // });
        // EventUtil.addHandler($textbox, "change", function(event) {
        // 	event = EventUtil.getEvent(event);
        // 	var target = EventUtil.getTarget(event);
        // 	if (/[^\d]/.test(target.value)) {
        // 		target.style.backgroundColor = "red";
        // 	} else {
        // 		target.style.backgroundColor = "";
        // 	}
        // });

        // var $textarea = $form.elements["textarea-box"];
        //文本框就会忽略所有输入的非数值
        // EventUtil.addHandler($textarea, "keypress", function(event) {
        // 	event = EventUtil.getEvent(event);
        // 	var target = EventUtil.getTarget(event);
        // 	var charCode = EventUtil.getCharCode(event);
        // 	// alert(event.keycode === 13);
        // 	if (!/\d/.test(String.fromCharCode(charCode)) && charCode > 9 && !(event.keycode === 13)) {
        // 		EventUtil.preventDefault(event);
        // 	}
        // });

        // EventUtil.addHandler($textarea,"paste",function(event){
        // 	event = EventUtil.getEvent(event);
        // 	var text = EventUtil.getClipboardText(event);
        //     EventUtil.preventDefault(event);
        // 	alert("不能粘贴数据");
        // })

        // (function(){
        //     function tabForward(event) {
        //         event = EventUtil.getEvent(event);
        //         // alert(event);
        //         var target = EventUtil.getTarget(event);
        //
        //         if(target.value.length == target.maxLength){
        //             var $form = target.form;
        //             for (var i = 0 , len = $form.elements.length; i < len; i++) {
        //                 if($form.elements[i] == target){
        //                     if($form.elements[i+1]){
        //                         $form.elements[i+1].focus();
        //                     }
        //                     return;
        //                 }
        //             }
        //         }
        //     }
        //
        //     var textbox1 = document.getElementById("text-box1");
        //     var textbox2 = document.getElementById("text-box2");
        //     var textbox3 = document.getElementById("text-box3");
        //
        //     EventUtil.addHandler(textbox1,"keyup",tabForward);
        //     EventUtil.addHandler(textbox2,"keyup",tabForward);
        //     EventUtil.addHandler(textbox3,"keyup",tabForward);
        // })();

        // var range = $textarea.createTextRange();
        // range.collapse(true);
        // range.moveStart("character",0);
        // range.moveEnd("character",$textarea.value.length);
        // range.select();
        // alert($textarea.value);

        // EventUtil.addHandler($textarea,"focus",function(event){
        //	 event = EventUtil.getEvent(event);
        //	 var target = EventUtil.getTarget(event);
        //	 target.select();
        // });

        // EventUtil.addHandler($textarea,"select",function(event){
        //	 // alert("text selectd : " + $textarea.value);
        //	 // alert(getSelectText($textbox));
        //	 // event = EventUtil.getEvent(event);
        //	 // var target = EventUtil.getTarget(event);
        //	 // target.select();
        // });
        // alert(getSelectText($textbox));
        // function getSelectText(textbox){
        //	 return textbox.value.substring(textbox.selectionStart,textbox.selectionEnd);
        // }

        // function selectText(textbox, startIndex, stopIndex) {
        // 	if (textbox.setSelectionRange) {
        // 		textbox.setSelectionRange(startIndex, stopIndex);
        // 	} else {
        // 		var range = textbox.createTextRange();
        // 		range.collapse(true);
        // 		range.moveStart("character", startIndex);
        // 		range.moveEnd("character", stopIndex - startIndex);
        // 		range.select();
        // 	}
        // 	textbox.focus();
        // }

        // selectText($textarea, 4, 7); //"Hello world!"

        // $field.value = "Another value";
        // console.log($field.form === $form);
        // $field.focus();
        // $field.disabled = true;
        // $field.type = "checkbox";
        // EventUtil.addHandler($form, "submit", function(event) {
        //	 event = EventUtil.getEvent(event);
        //	 var target = EventUtil.getTarget(event);
        //	 //取得提交按钮
        //	 var btn = target.elements["submit-btn"];
        //	 btn.disabled = true;
        //	 //阻止表单事件的提交
        //	 // EventUtil.preventDefault(event);
        // });

        // EventUtil.addHandler(window,"load",function(event){
        //	 var element = document.forms[0].elements[0];
        //	 if (element.autofocus !== true) {
        //		 element.focus();
        //		 console.log("JS Focus.");
        //	 }
        // });
        // var colorFields = $form.elements["color"];
        // var firstColorField = colorFields[0];
        // var firstFormField = $form.elements[0];
        // alert(firstFormField === firstColorField);
        // var EventUtil = {
        //	 addHandler: function(element, type, handler) {
        //		 if (element.addEventListener) {
        //			 element.addEventListener(type, handler, false);
        //		 } else if (element.attachEvent) {
        //			 element.attachEvent("on" + 　type, handler);
        //		 } else {
        //			 element["on" + type] = handler;
        //		 }
        //	 },
        //	 removeHandler: function(element, type, handler) {
        //		 if (element.removeEventListener) {
        //			 element.removeEventListener(type, handler, false);
        //		 } else if (element.detachEvent) {
        //			 element.datachEvent("on" + type, handler);
        //		 } else {
        //			 element["on" + type] = null;
        //		 }
        //	 },
        //	 getEvent: function(event) {
        //		 return event ? event : window.event;
        //	 },
        //	 getTarget: function(event) {
        //		 return event.getTarget || event.srcElement;
        //	 },
        //	 preventDefault: function(event) {
        //		 if (event.preventDefault) {
        //			 event.preventDefault();
        //		 } else {
        //			 event.returnValue = false;
        //		 }
        //	 },
        //	 stopPropagation: function(event) {
        //		 if (event.stopPropagation) {
        //			 event.stopPropagation();
        //		 } else {
        //			 event.cancelBubble = true;
        //		 }
        //	 },
        //	 getWheelDelta: function(event) {
        //		 if (event.wheelDelta) {
        //			 return (client.engine.opera && client.engine.opera < 9.5 ? -event.wheelDelta : event.wheelDelta);
        //		 } else {
        //			 return -event.detail * 40;
        //		 }
        //	 },
        //	 getButton: function(event) {
        //		 if (document.implementation.hasFeature("MouseEvents", "2.0")) {
        //			 return event.button;
        //		 } else {
        //			 switch (event.button) {
        //				 case 0:
        //				 case 1:
        //				 case 3:
        //				 case 5:
        //				 case 7:
        //					 return 0;
        //				 case 2:
        //				 case 6:
        //					 return 2;
        //				 case 4:
        //					 return 1;
        //			 }
        //		 }
        //	 },
        //	 getCharCode: function(event) {
        //		 if (typeof event.charCode == "number") {
        //			 return event.charCode;
        //		 } else {
        //			 return event.keyCode;
        //		 }
        //	 }
        // };
        //
        // function handleTouchEvent(event){
        //	 if(event.touches.length == 1){
        //		 var output = document.getElementById("output");
        //		 switch (event.type) {
        //			 case "touchstart":
        //				 output.innerHTML = "Touch started ("+event.touches[0].clientX+",<br />"+event.touches[0].clientY+")";
        //				 break;
        //			 case "touchend" :
        //				 output.innerHTML += "<br /> Touch ended ("+event.changedTouches[0].clientX+",<br />"+event.changedTouches[0].clientY+")";
        //				 break;
        //			 case "touchmove":
        //				 event.preventDefault();
        //				 output.innerHTML += "<br /> Touch moved ("+event.changedTouches[0].clientX+",<br />"+event.changedTouches[0].clientY+")";
        //				 break;
        //		 }
        //	 }
        // }
        //
        // function handleGestureEvent(event) {
        //	 var output = document.getElementById("output");
        //	 switch (event.type) {
        //		 case "gesturestart":
        //			 output.innerHTML = "Gesturestart started (rotation="+event.rotation+",scale="+event.scale+")";
        //			 break;
        //		 case "gestureend":
        //			 output.innerHTML += "<br />Gesture ended (rotation="+event.rotation+",scale="+event.scale+")";
        //			 break;
        //		 case "gesturechange":
        //			 output.innerHTML += "Gesture change (rotation="+event.rotation+",scale="+event.scale+")";
        //			 break;
        //	 }
        // }
        //
        // var $list = document.getElementById("myMenu");
        //
        // EventUtil.addHandler($list,"click",function(event){
        //	 event = EventUtil.getEvent(event);
        //	 var target = EventUtil.getTarget(event);
        //
        //	 switch (target.id) {
        //		 case "doSomething":
        //			 document.title = "I changed the document's title";
        //			 break;
        //		 case "goSomewhere":
        //			 location.href = "http://www.baidu.com";
        //			 break;
        //		 case "sayHi":
        //			 alert("hi");
        //			 break;
        //	 }
        // })

        // document.addEventListener("gesturestart",handleGestureEvent,false);
        // document.addEventListener("gestureend",handleGestureEvent,false);
        // document.addEventListener("gesturechange",handleGestureEvent,false);
        // EventUtil.addHandler(document,"touchstart",handleTouchEvent);
        // EventUtil.addHandler(document,"touchend",handleTouchEvent);
        // EventUtil.addHandler(document,"touchmove",handleTouchEvent);
        // var $link = document.getElementById("myLink");
        // var $right = document.getElementById("right");
        // var $text = document.getElementById("myText");

        // EventUtil.addHandler($text, "keypress", function(event) {
        //	 event = EventUtil.getEvent(event);
        //	 alert(EventUtil.getCharCode(event));
        // });

        // EventUtil.addHandler($text, "keypress", function(event) {
        //	 event = EventUtil.getEvent(event);
        //	 var identifier = event.key || event.keyIdentifier;
        //	 if (identifier) {
        //		 alert(identifier);
        //	 }
        // });

        // EventUtil.addHandler($text, "compositionstart", function(event) {
        //	 event = EventUtil.getEvent(event);
        //	 alert(event.data);
        //	 // alert(event.inputMethod);

        //	 // var loc = event.location || event.keyLocation;
        //	 // if (loc) {
        //	 //	 alert(loc);
        //	 // }
        // });



        // EventUtil.addHandler(window,"load",function(event){
        //	 var $div = document.getElementById("myDiv");

        //	 EventUtil.addHandler($div,"contextmenu",function(event){
        //		 event = EventUtil.getEvent(event);
        //		 EventUtil.preventDefault(event);

        //		 var $menu = document.getElementById("myMenu");
        //		 $menu.style.left = event.clientX + "px";
        //		 $menu.style.top = event.clientY + "px";
        //		 $menu.style.visibility = "visible";
        //	 });

        //	 EventUtil.addHandler(document,"click",function(event){
        //		 document.getElementById("myMenu").style.visibility = "hidden";
        //	 });
        // });

        // var isSupported = document.implementation.hasFeature("CompositionEvent", "3.0");
        // alert(isSupported);

        // EventUtil.addHandler(document,"mousewheel",function(event){
        //	 event = EventUtil.getEvent(event);
        //	 alert(event.wheelDelta);
        // });
        // (function() {
        //	 function handleMouseWheel(event){
        //		 event = EventUtil.getEvent(event);
        //		 var delta = -event.detail * 40;
        //		 alert(delta);
        //	 }
        // })();
        // $right.onclick = function(event){
        // event = EventUtil.getEvent(event);
        //	  alert(event);
        //	  var target = EventUtil.getTarget(event);
        //	  console.log(target);
        //	  EventUtil.stopPropagation(event);
        // }

        // document.body.onclick = function(event){
        //	 alert("1");
        // };

        // EventUtil.addHandler(window,"load",function(){
        //	 alert("Load Success");
        // });

        // var $image = document.getElementsByName("myImage")[0];
        // EventUtil.addHandler(window,"load",function(){
        //	 var $newImage = document.createElement("img");
        //	 var $image = document.getElementsByName("myImage")[0];
        //	 EventUtil.addHandler($image,"load",function(event){
        //		 event = EventUtil.getEvent(event);
        //		 alert(EventUtil.getTarget(event).src);
        //	 });
        //	 document.body.appendChild($newImage);
        //	 $newImage.src = "http://dummyimage.com/600x400/000/fff";
        // });

        // EventUtil.addHandler(window,"load",function(){
        //	 var $script = document.createElement("script");
        //	 EventUtil.addHandler($script,"load",function(event){
        //		 alert("Loaded");
        //	 });
        //	 $script.src = "example.js";
        //	 document.boay.appendChild($script);
        // });

        // EventUtil.addHandler(window,"resize",function(){
        //	 // alert("resize");
        // });


        // EventUtil.addHandler(window,"scroll",function(){
        //	 if (document.compatMode == "CSS1Compat") {
        //		 alert(document.documentElement.scrollTop);
        //	 } else {
        //		 alert(document.body.scrollTop);
        //	 }
        // });




        // var $div = document.getElementById("myDiv");

        // $div.onclick = function(event){
        //	 alert(event.currentTarget === this);
        //	 alert(event.target === this);
        // }
        // var handler = function(){
        //	 alert("clicked");
        // }
        // EventUtil.addHandler($div,"click",handler);
        // EventUtil.removeHandler($div,"click",handler);
        // $div.onclick = function(){
        //	 alert(this.id);
        // };
        // $div.addEventListener("click",function(){
        //	 // alert(event.type);
        //	 // event.stopPropagation();
        //	 alert("client :" + event.clientX + "," + event.clientY);
        // },false);

        // document.body.onclick = function(event){
        //	 var keys = new Array();

        //	 if(event.shiftKey){
        //		 keys.push("shift");
        //	 }

        //	 if(event.ctrlKey){
        //		 keys.push("ctrl");
        //	 }

        //	 if(event.altKey){
        //		 keys.push("alt");
        //	 }

        //	 if(event.metaKey){
        //		 keys.push("meta");
        //	 }

        //	 alert("keys :" + keys.join("+"));

        //	 // alert("body clicked");
        // }
        // function getElementLeft(element){
        //	 var actualLeft = element.offsetLeft;
        //	 var current = element.offsetParent;

        //	 while(current !== null){
        //		 actualLeft += current.offsetLeft;
        //			   current = current.offsetParent;
        //	 }
        //		   return actualLeft;
        // }

        // function getViewReport() {
        //	 if (document.compatMode == "BackCompat") {
        //		 return {
        //			 width: document.body.clientWidth,
        //			 height: document.body.clientHeight
        //		 };
        //	 } else {
        //		 return {
        //			 width: document.documentElement.clientWidth,
        //			 height: document.documentElement.clientHeight
        //		 };
        //	 }
        // }
        //
        // getViewReport.width();
        //
        // alert(getViewReport.width());

        // var $link = document.getElementsByTagName("link")[0];
        // var $sheet = getStyleSheet($link);
        // document.write($sheet.href);
        // alert($sheet.href);
        // $div.style.border = "1px solid #000";
        // function getStyleSheet(elements) {
        //	 return elements.sheet || elements.stylesheet;
        // }

        // var $link = document.getElementsByTagName("link")[0];
        // var $sheet = getStyleSheet($link);
        // alert($sheet.html());
        // alert("1");
        // var $div = document.getElementById("myDiv");
        // $div.style.backgroundColor = "red";
        // $div.style.height = "100px";
        // $div.style.width = "200px";
        // $div.style.border = "1px solid #000";
        // function getStyleSheet(elements) {
        //	 return elements.sheet || elements.stylesheet;
        // }

        // var $link = document.getElementsByTagName("link")[0];
        // var $sheet = getStyleSheet($link);
        // alert($sheet.html());

        //我还想多活几年
        // var supportDOM2Core = document.implementation.hasFeature("Core","2.0");
        // var supportDOM3Core = document.implementation.hasFeature("Core","3.0");
        // var supportDOM2Html = document.implementation.hasFeature("HTML","2.0");
        // var supportDOM2Views = document.implementation.hasFeature("Views","2.0");
        // var supportDOM2XML = document.implementation.hasFeature("XML","2.0");
        // console.log("supportDOM2Core :" + supportDOM2Core);
        // console.log("supportDOM3Core :" + supportDOM3Core);
        // console.log("supportDOM2Html :" + supportDOM2Html);
        // console.log("supportDOM2Views :" + supportDOM2Views);
        // console.log("supportDOM2XML :" + supportDOM2XML);

        // var $div = document.getElementById("myDiv");
        // console.log($div.outerHTML);

        /**
        	 <div id="myDiv" class="bd user disabled" data-appid="123456" title="Body Text" lang="en" dir="ltr">
        			 <p>This is a <strong>paragraph</strong> with a list following it.</p>
        			 <ul>
        				 <li>Item 1</li>
        				 <li>Item 2</li>
        				 <li>Item 3</li>
        			 </ul>
        		 </div>
        		 */
        // var classNames = $div.className.split(/\s+/);
        // alert(classNames.length);
        // alert($div.className);

        /**
         * 移除某一个Class 样式
         */
        // var $div = document.getElementById("myDiv");
        // var pos = -1,
        //	 i,
        //	 len;
        // for(i = 0 , len = classNames.length; i < len; i++){
        //	 if(classNames[i] == "user"){
        //		 pos = i;
        //		 break;
        //	 }
        // }
        // classNames.splice(i,1);
        // $div.className = classNames.join(" ");

        // $div.classList.remove("usetr");
        // alert($div.className);
        // alert($div.dataset.appid);
        // if($div.dataset.appid){
        //	 alert($div.dataset.appid);
        // }
        // var head  = document.head || document.getElementsByTagName("head")[0];
        // alert(head);

        // var reg = /(?!^\d+$)(?!^[a-zA-Z]+$)^[0-9a-zA-Z]{6,30}$/;
        // var val = "21312ddd3";
        // if(val.length < 6 || val.length > 30){
        //	 alert(false);
        // }else{
        //	 alert(reg.test(val));
        // }

        // var $ul = document.querySelector("ul");
        // alert($li.length);
        // function processChild(element){
        //	 var i,
        //		 len,
        //		 child = element.firstElementChild;
        //	 while(child != element.lastElementChild){
        //		 processChild(child);
        //		 child = child.nextElementSibiling;
        //	 }
        // }

        //processChild($ul);

        // var $body = document.querySelector("body");
        // alert($body.nodeName);

        // var $li = document.querySelectorAll("li");
        // alert($li.length);

        // var $divByClass = document.querySelector(".bd");
        // // alert($divByClass.nodeName);
        // if (document.readyState == "loading"){
        //	 alert("loading");
        // } else {
        //	 alert("complete");
        // }
        // var $element = document.querySelector("#myList").querySelectorAll("li");
        // alert($element.length);

        //	 var $element = document.getElementsByClassName("bd");
        // alert($element.nodeValue);
        // function loadStyles(url){
        //	 var link = document.createElement("link");
        //	 link.rel = "stylesheet";
        //	 link.type = "text/css";
        //	 link.href = url;
        //	 var head = document.getElementsByTagName("head")[0];
        //	 head.appendChild(link);
        // }


        // var $myDiv = document.getElementById("myDiv");

        // var element = document.createElement("div");
        // element.className = "message";
        // var textNode = document.createTextNode("hello world");
        // element.appendChild(textNode);
        // var anotherTextNode = document.createTextNode("yippe");
        // element.appendChild(anotherTextNode);
        // document.body.appendChild(element);
        // console.log("element.childNodes.length:" + element.childNodes.length);
        // element.normalize();
        // console.log("element.childNodes.length:" + element.childNodes.length);
        // console.log("element.firstChild.nodeValue:" + element.firstChild.nodeValue);

        // // $myDiv.firstChild.nodeValue = "Some <strong> other </strong> other message";
        // var $myList = document.getElementById("myList");
        // alert($myList.childNodes.length);  //13

        // var div = document.createElement("div");
        // div.id = "myNewDiv";
        // div.className = "box";

        // document.body.appendChild(div);

        // function outputAttribute(element){
        //	 var pairs = new Array(),
        //		 attrName,
        //		 attrValue,
        //		 i,
        //		 len;

        //	 for(i = 0,len = element.attributes.length; i < len; i++){
        //		 attrName = element.attributes[i].nodeName;
        //		 attrValue = element.attributes[i].nodeValue;
        //		 if(element.attributes[i].specified){
        //			 pairs.push(attrName + "=\"" + attrValue + "\"");
        //		 }
        //	 }

        //	 return pairs.join(",");
        // }
        // var $myDiv = document.getElementById("myDiv");
        // // var id = $myDiv.attributes.getNamedItem("id").nodeValue;
        // // alert(id);
        // console.log("myDiv attributes:" + outputAttribute($myDiv));  // myDiv attributes:id="myDiv",class="bd",title="Body Text",lang="en",dir="ltr"

        // console.log("id: " + $myDiv.getAttribute("id"));				 //myDiv
        // console.log("className: " + $myDiv.getAttribute("class"));	//bd
        // console.log("title: " + $myDiv.getAttribute("title"));			//Body Text
        // console.log("lang: " + $myDiv.getAttribute("lang"));			//en
        // console.log("dir: " + $myDiv.getAttribute("dir"));				//ltr

        // console.log("id: " + $myDiv.id);				 //myDiv
        // console.log("className: " + $myDiv.className);	//bd
        // console.log("title: " + $myDiv.title);			//Body Text
        // console.log("lang: " + $myDiv.lang);			//en
        // console.log("dir: " + $myDiv.dir);				//ltr


        // ------------------------------------------
        // var $myDiv = document.getElementById("myDiv");
        // console.log("tagName: " + $myDiv.tagName.toLowerCase());
        // console.log("tagName: " + $myDiv.nodeName.toLowerCase());

        // if($myDiv.tagName.toLowerCase == "div"){

        // }
        // window.onload = function() {
        //	 document.write("Hello world");
        // };

        // document.write("<strong>"+(new Date()).toString()+"</strong>");

        // document.write("<script type=\"text/javascript\" src=\"http://cdn.bootcss.com/jquery/3.0.0-rc1/jquery.js\"><\/script>");
        // ----------------------------------
        // var radios = document.getElementsByName("color");
        // alert(radios.length);

        // var anchors = document.anchors;
        // var applets = document.applets;
        // var forms = document.forms;
        // var images = document.images;
        // var links = document.links;

        // console.log("anchors: "+ anchors.length);
        // console.log("applets: "+ applets.length);
        // console.log("forms: "+ forms.length);
        // console.log("images: "+ images.length);
        // console.log("links: "+ links.length);
        // ---------------
        // function convertToArray(nodes){
        //	 var array = null;
        //	 try {
        //		 array = Array.prototype.slice(nodes,0);
        //	 }catch (ex){
        //		 array = new Array();
        //		 for(var i = 0, len = nodes.length; i < len; i++){
        //			 array.push(nodes[i]);
        //		 }
        //	 }
        //	 return array;
        // }

        // var element = document.getElementById("myDiv"); //8


        // var images = document.getElementsByTagName("img");
        // var myImage = images["myImage"];
    </script>
</body>

</html>
